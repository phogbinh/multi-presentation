\section{Problem}
\begin{frame}
  \frametitle{Problem}
  \small
  \begin{maxi!}
    {\embbRaVec, \urllcRaVec, \urllcLaVec}{\sum_{\embbUser}{\utilityCompositeFunction{\embbAverageRateRandOne}}\label{pb:problem0}}
    {}{}
    \addConstraint
      {\sum_{\embbUser}{\embbRaFour}}
      {\leq 1\label{pb:problem1}}
      {\forall\timeSlot \forall\baseStation \forall\subchannel}
    \addConstraint
      {\embbRaFour}
      {\in \setDst{0, 1}\label{pb:problem2}}
      {\forall\embbUser \forall\timeSlot \forall\baseStation \forall\subchannel}
    \addConstraint
      {\sum_{\baseStation}{\urllcLaFour}}
      {\leq 1\label{pb:problem3}}
      {\forall\urllcUser \forall\timeSlot \forall\timeMinislot}
    \addConstraint
      {\urllcRaSix}
      {\leq \urllcLaFour\label{pb:problem4}}
      {\forall\urllcUser \forall\embbUser \forall\timeSlot \forall\timeMinislot \forall\baseStation \forall\subchannel}
    \addConstraint
      {\urllcLaFour}
      {\in \setDst{0, 1}\label{pb:problem5}}
      {\forall\urllcUser \forall\timeSlot \forall\timeMinislot \forall\baseStation}
    \addConstraint
      {\sum_{\urllcUser}{\urllcRaSix}}
      {\leq \embbRaFour\label{pb:problem6}}
      {\forall\embbUser \forall\timeSlot \forall\timeMinislot \forall\baseStation \forall\subchannel}
    \addConstraint
      {\urllcRateRandThree}
      {\geq \demandRandThree\label{pb:problem7}}
      {\forall\urllcUser \forall\timeSlot \forall\timeMinislot}
    \addConstraint
      {\urllcRaSix}
      {\in \setDst{0, 1}\label{pb:problem8}}
      {\forall\urllcUser \forall\embbUser \forall\timeSlot \forall\timeMinislot \forall\baseStation \forall\subchannel}
  \end{maxi!}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item The system maximizes eMBB traffic's total average rate and fairness \eqref{pb:problem0}.
    \item For each time slot, the system
      \begin{itemize}
        \item schedules a subchannel to at most one eMBB user \eqref{pb:problem1}.
        \item either un-schedules or schedules a subchannel to an eMBB user \eqref{pb:problem2}.
      \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item For each time minislot, the system
      \begin{itemize}
        \item associates at most one base station to a URLLC user \eqref{pb:problem3}.
        \item schedules a subchannel to a URLLC user only if it associates the corresponding base station to the user \eqref{pb:problem4}.
        \item either un-associates or associates a base station to a URLLC user \eqref{pb:problem5}.
        \item schedules a subchannel to at most one URLLC user, and punctures the subchannel for a URLLC user only if it schedules the subchannel to the corresponding eMBB user \eqref{pb:problem6}\proofFootnote.
        \item serves demands of URLLC users without delays \eqref{pb:problem7}.
        \item employs URLLC puncturing scheme instead of superposition \eqref{pb:problem8}.
      \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item Do note that current eMBB users' rate models for URLLC puncturing scheme in the literature are mostly non-linear \cite{BMATAMHH21}.
    \item Whilst proposed linear models are either intractable \cite{YZR21} or inappropriate \cite{AVS20} for discrete subchannel scheduling with multiple URLLC users.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{eMBB Problem}
  \begin{maxi!}
    {\embbRaVec}{\sum_{\embbUser}{\utilityCompositeFunction{\embbAverageRateRandOne}}}
    {}{}
    \addConstraint
      {\sum_{\embbUser}{\embbRaFour}}
      {\leq 1}
      {\forall\timeSlot \forall\baseStation \forall\subchannel}
    \addConstraint
      {\embbRaFour}
      {\in \setDst{0, 1}}
      {\forall\embbUser \forall\timeSlot \forall\baseStation \forall\subchannel}
  \end{maxi!}
\end{frame}

\begin{frame}
  \frametitle{Relaxed eMBB Problem}
  \begin{maxi!}
    {\embbRaVecRelax}{\sum_{\embbUser}{\utilityCompositeFunction{\embbAverageRateRandOneRelax}}}
    {}{}
    \addConstraint
      {\sum_{\embbUser}{\embbRaFourRelax}}
      {\leq 1}
      {\forall\timeSlot \forall\baseStation \forall\subchannel}
    \addConstraint
      {\embbRaFourRelax}
      {\geq 0}
      {\forall\embbUser \forall\timeSlot \forall\baseStation \forall\subchannel}
  \end{maxi!}
\end{frame}

\begin{frame}
  \frametitle{Gradient Problem}
  \begin{maxi!}
    {\embbRaVecOneRelaxCur}{\sum_{\embbUser}{\frac{\embbRateTwoRelaxCur}{\embbMovingAverageRateTwoRelaxCur}}}
    {}{}
    \addConstraint
      {\sum_{\embbUser}{\embbRaFourRelaxCur}}
      {\leq 1}
      {\forall\baseStation \forall\subchannel}
    \addConstraint
      {\embbRaFourRelaxCur}
      {\geq 0}
      {\forall\embbUser \forall\baseStation \forall\subchannel}
  \end{maxi!}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item The relaxed moving average rate of eMBB user is defined based on exponential moving average (EMA) as
      \begin{equation}
        \embbMovingAverageRateTwoRelax =
          \begin{cases}
            \frac{1}{\timeSlotsNum} \sum_{\baseStation, \subchannel}{\frac{1}{\embbUsersNum} \embbPeakRateFour} &\timeSlot = 0\\
            \left(1 - \smoothingFactor\right) \embbMovingAverageRateTwoRelaxDecrement + \smoothingFactor \embbRateTwoRelaxDecrement &\nonzeroTimeSlots
          \end{cases} \bpsl \forall\embbUser.
      \end{equation}
  \end{itemize}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item The initial value of which is defined by the feasible policy $\embbRaVecRelaxCandidate$ for the relaxed eMBB problem where\proofFootnote
      \begin{equation}
        \embbRaFourRelaxCandidate =
          \begin{cases}
            \frac{1}{\embbUsersNum} &\timeSlot = 0\\
            0 &\nonzeroTimeSlots
          \end{cases} \forall\embbUser \forall\baseStation \forall\subchannel.
      \end{equation}
  \end{itemize}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item Given a policy $\embbRaVecCandidate$ where for $\timeSlot = 0, \dots, \timeSlotsNum - 1$, $\embbRaVecOneCandidate$ is a basic optimal point for the $\timeSlot^{th}$ gradient problem, then $\embbRaVecCandidate$ is an asymptotically optimal policy for the eMBB problem\proofFootnote.
  \end{itemize}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item The following policy is asymptotically optimal with respect to the eMBB problem\proofFootnote:
      \begin{equation}
        \embbPolicy \forall\timeSlot \forall\baseStation \forall\subchannel \forall\embbUser.
      \end{equation}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{URLLC Problem}
  \small
  \begin{maxi!}
    {\urllcRaVecOneSlotCur, \urllcLaVecOneSlotCur}{\sum_{\embbUser}{\frac{1}{\embbMovingAverageRateTwoRelaxCur} \sum_{\baseStation, \subchannel}{\frac{\sum_{\timeMinislot}{\left(\embbRaFourCandidateCur - \sum_{\urllcUser}{\urllcRaSixSlotCur}\right)}}{\timeMinislotsNum} \embbPeakRateFourCur}}}
    {}{}
    \addConstraint
      {\sum_{\baseStation}{\urllcLaFourSlotCur}}
      {\leq 1}
      {\forall\urllcUser \forall\timeMinislot}
    \addConstraint
      {\urllcRaSixSlotCur}
      {\leq \urllcLaFourSlotCur}
      {\forall\urllcUser \forall\embbUser \forall\timeMinislot \forall\baseStation \forall\subchannel}
    \addConstraint
      {\urllcLaFourSlotCur}
      {\in \setDst{0, 1}}
      {\forall\urllcUser \forall\timeMinislot \forall\baseStation}
    \addConstraint
      {\sum_{\urllcUser}{\urllcRaSixSlotCur}}
      {\leq \embbRaFourCandidateCur}
      {\forall\embbUser \forall\timeMinislot \forall\baseStation \forall\subchannel}
    \addConstraint
      {\urllcRateRandThreeSlotCur}
      {\geq \demandRandThreeSlotCur}
      {\forall\urllcUser \forall\timeMinislot}
    \addConstraint
      {\urllcRaSixSlotCur}
      {\in \setDst{0, 1}}
      {\forall\urllcUser \forall\embbUser \forall\timeMinislot \forall\baseStation \forall\subchannel}
  \end{maxi!}
\end{frame}

\begin{frame}
  \frametitle{Puncturing Problem}
  \begin{mini!}
    {\urllcRaVecTwoCur, \urllcLaVecTwoCur}{\sum_{\urllcUser, \embbUser, \baseStation, \subchannel}{\frac{\embbPeakRateFourCur}{\embbMovingAverageRateTwoRelaxCur} \urllcRaSixCur}}
    {}{}
    \addConstraint
      {\sum_{\baseStation}{\urllcLaFourCur}}
      {\leq 1}
      {\forall\urllcUser}
    \addConstraint
      {\urllcRaSixCur}
      {\leq \urllcLaFourCur}
      {\forall\urllcUser \forall\embbUser \forall\baseStation \forall\subchannel}
    \addConstraint
      {\urllcLaFourCur}
      {\in \setDst{0, 1}}
      {\forall\urllcUser \forall\baseStation}
    \addConstraint
      {\sum_{\urllcUser}{\urllcRaSixCur}}
      {\leq \embbRaFourCandidateCur}
      {\forall\embbUser \forall\baseStation \forall\subchannel}
    \addConstraint
      {\urllcRateThreeCur}
      {\geq \demandThreeCur}
      {\forall\urllcUser}
    \addConstraint
      {\urllcRaSixCur}
      {\in \setDst{0, 1}}
      {\forall\urllcUser \forall\embbUser \forall\baseStation \forall\subchannel}
  \end{mini!}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item Given a time slot policy $\tuple{\urllcRaVecOneSlotCur, \urllcLaVecOneSlotCur}$ where for $\timeMinislot = 0, \dots, \timeMinislotsNum - 1$, $\tuple{\urllcRaVecTwoSlotCur, \urllcLaVecTwoSlotCur}$ solves the $\timeMinislot^{th}$ puncturing problem, then $\tuple{\urllcRaVecOneSlotCur, \urllcLaVecOneSlotCur}$ is an optimal point for the URLLC problem\proofFootnote.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Scheduling Problem}
  \begin{mini!}
    {\urllcNpRaVecTwoCur, \urllcLaVecTwoCur}{\sum_{\urllcUser, \baseStation, \subchannel}{\costThreeCur \urllcNpRaFiveCur}}
    {}{}
    \addConstraint
      {\sum_{\baseStation}{\urllcLaFourCur}}
      {\leq 1}
      {\forall\urllcUser}
    \addConstraint
      {\urllcNpRaFiveCur}
      {\leq \urllcLaFourCur}
      {\forall\urllcUser \forall\baseStation \forall\subchannel}
    \addConstraint
      {\urllcLaFourCur}
      {\in \setDst{0, 1}}
      {\forall\urllcUser \forall\baseStation}
    \addConstraint
      {\sum_{\urllcUser}{\urllcNpRaFiveCur}}
      {\leq 1}
      {\forall\baseStation \forall\subchannel}
    \addConstraint
      {\urllcRateThreeCur}
      {\geq \demandThreeCur}
      {\forall\urllcUser}
    \addConstraint
      {\urllcNpRaFiveCur}
      {\in \setDst{0, 1}}
      {\forall\urllcUser \forall\baseStation \forall\subchannel}
  \end{mini!}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item The puncturing cost of subchannel is defined as
      \begin{equation}
        \costThree = \max_{\embbUser}{\frac{\embbPeakRateFour}{\embbMovingAverageRateTwoRelax}} \forall\timeSlot \forall\baseStation \forall\subchannel.
      \end{equation}
  \end{itemize}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item The scheduling problem is equivalent to the puncturing problem\proofFootnote.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Homogeneous Problem}
  \begin{mini!}
    {\urllcNpRaVecTwoCur, \urllcLaVecTwoCur}{\minCostOneCur \sum_{\urllcUser, \baseStation, \subchannel}{\urllcNpRaFiveCur}}
    {}{}
    \addConstraint
      {\sum_{\baseStation}{\urllcLaFourCur}}
      {\leq 1}
      {\forall\urllcUser}
    \addConstraint
      {\urllcNpRaFiveCur}
      {\leq \urllcLaFourCur}
      {\forall\urllcUser \forall\baseStation \forall\subchannel}
    \addConstraint
      {\urllcLaFourCur}
      {\in \setDst{0, 1}}
      {\forall\urllcUser \forall\baseStation}
    \addConstraint
      {\sum_{\urllcUser}{\urllcNpRaFiveCur}}
      {\leq 1}
      {\forall\baseStation \forall\subchannel}
    \addConstraint
      {\sum_{\baseStation, \subchannel}{\urllcNpRaFiveCur}}
      {\geq \frac{\demandThreeCur}{\urllcMaxRateThreeCur}}
      {\forall\urllcUser}
    \addConstraint
      {\urllcNpRaFiveCur}
      {\in \setDst{0, 1}}
      {\forall\urllcUser \forall\baseStation \forall\subchannel}
  \end{mini!}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item The minimum puncturing cost is defined as
      \begin{equation}
        \minCostOne = \min_{\baseStation, \subchannel}{\costThree} \forall\timeSlot.
      \end{equation}
    \item The maximum rate of URLLC user is defined as
      \begin{equation}
        \urllcMaxRateThree = \max_{\baseStation}{\urllcPeakRateFour} \forall\timeSlot \forall\timeMinislot \forall\urllcUser.
      \end{equation}
  \end{itemize}
\end{frame}

\begin{frame}
  \begin{itemize}
    \item $\minCostOneCur \sum_{\urllcUser}{\ceil{\frac{\demandThreeCur}{\urllcMaxRateThreeCur}}}$ is the optimal value for the homogeneous problem\proofFootnote.
  \end{itemize}
\end{frame}
